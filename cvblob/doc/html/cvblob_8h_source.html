<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cvBlob: cvBlob/cvblob.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cvBlob</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">cvBlob/cvblob.h</div>  </div>
</div>
<div class="contents">
<a href="cvblob_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (C) 2007 by Cristóbal Carnero Liñán</span>
<a name="l00002"></a>00002 <span class="comment">// grendel.ccl@gmail.com</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// This file is part of cvBlob.</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">// cvBlob is free software: you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment">// it under the terms of the Lesser GNU General Public License as published by</span>
<a name="l00008"></a>00008 <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00009"></a>00009 <span class="comment">// (at your option) any later version.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// cvBlob is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00014"></a>00014 <span class="comment">// Lesser GNU General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// You should have received a copy of the Lesser GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment">// along with cvBlob.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#ifdef SWIG</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>%module cvblob
<a name="l00025"></a>00025 %{
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="cvblob_8h.html" title="OpenCV Blob header file.">cvblob.h</a>&quot;</span>
<a name="l00027"></a>00027 %}
<a name="l00028"></a>00028 <span class="preprocessor">#endif</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef CVBLOB_H</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#define CVBLOB_H</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;limits&gt;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#if (defined(_WIN32) || defined(__WIN32__) || defined(__TOS_WIN__) || defined(__WINDOWS__) || (defined(__APPLE__) &amp; defined(__MACH__)))</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#include &lt;cv.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#else</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#include &lt;opencv/cv.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#endif</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>
<a name="l00045"></a>00045 <span class="preprocessor">#ifndef __CV_BEGIN__</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#define __CV_BEGIN__ __BEGIN__</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#ifndef __CV_END__</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#define __CV_END__ __END__</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span>
<a name="l00052"></a>00052 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00054"></a>00054 <span class="preprocessor">#endif</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056   <span class="keyword">namespace </span>cvb
<a name="l00057"></a>00057   {
<a name="l00058"></a>00058 
<a name="l00060"></a>00060   <span class="comment">// Contours</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <span class="comment">// Chain code:</span>
<a name="l00063"></a>00063   <span class="comment">//        7 0 1</span>
<a name="l00064"></a>00064   <span class="comment">//        6   2</span>
<a name="l00065"></a>00065   <span class="comment">//        5 4 3</span>
<a name="l00066"></a><a class="code" href="cvblob_8h.html#a15f244e529bb2c6a4e7245ec0fe51206">00066</a> <span class="preprocessor">#define CV_CHAINCODE_UP         0 ///&lt; Up.</span>
<a name="l00067"></a><a class="code" href="cvblob_8h.html#a9b7fcf030cfefac2339363851ee04773">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_CHAINCODE_UP_RIGHT   1 ///&lt; Up and right.</span>
<a name="l00068"></a><a class="code" href="cvblob_8h.html#a92aac8df1864e48e85f3081e82e2c805">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_CHAINCODE_RIGHT      2 ///&lt; Right.</span>
<a name="l00069"></a><a class="code" href="cvblob_8h.html#a15387f2b75523f414ce773b369b1f521">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_CHAINCODE_DOWN_RIGHT 3 ///&lt; Down and right.</span>
<a name="l00070"></a><a class="code" href="cvblob_8h.html#aee51205238c5432d9aff4a92dd0f19ee">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_CHAINCODE_DOWN       4 ///&lt; Down.</span>
<a name="l00071"></a><a class="code" href="cvblob_8h.html#aab9a3cf6ed1c9431f39336e2689f79e3">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_CHAINCODE_DOWN_LEFT  5 ///&lt; Down and left.</span>
<a name="l00072"></a><a class="code" href="cvblob_8h.html#aa7dc08f3867bc7c5d1ed941c4a440c21">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_CHAINCODE_LEFT       6 ///&lt; Left.</span>
<a name="l00073"></a><a class="code" href="cvblob_8h.html#a1a4babf8e3ceb3c89b579a222577f29f">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_CHAINCODE_UP_LEFT    7 ///&lt; Up and left.</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00084"></a>00084   <span class="keyword">const</span> <span class="keywordtype">char</span> cvChainCodeMoves[8][2] = { { 0, -1},
<a name="l00085"></a>00085                                         { 1, -1},
<a name="l00086"></a>00086                                         { 1,  0},
<a name="l00087"></a>00087                                         { 1,  1},
<a name="l00088"></a>00088                                         { 0,  1},
<a name="l00089"></a>00089                                         {-1,  1},
<a name="l00090"></a>00090                                         {-1,  0},
<a name="l00091"></a>00091                                         {-1, -1}
<a name="l00092"></a>00092                                       };
<a name="l00093"></a>00093 
<a name="l00103"></a>00103   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CvChainCode;
<a name="l00104"></a>00104 
<a name="l00107"></a>00107   <span class="keyword">typedef</span> std::list&lt;CvChainCode&gt; CvChainCodes;
<a name="l00108"></a>00108 
<a name="l00111"></a><a class="code" href="structcvb_1_1CvContourChainCode.html">00111</a>   <span class="keyword">struct </span><a class="code" href="structcvb_1_1CvContourChainCode.html" title="Chain code contour.">CvContourChainCode</a>
<a name="l00112"></a>00112   {
<a name="l00113"></a><a class="code" href="structcvb_1_1CvContourChainCode.html#a97e1346b532ae1cd42e8f75feaa0bb84">00113</a>     CvPoint <a class="code" href="structcvb_1_1CvContourChainCode.html#a97e1346b532ae1cd42e8f75feaa0bb84" title="Point where contour begin.">startingPoint</a>; 
<a name="l00114"></a><a class="code" href="structcvb_1_1CvContourChainCode.html#a5bd862d6110944a1cab83c134aecd19b">00114</a>     CvChainCodes <a class="code" href="structcvb_1_1CvContourChainCode.html#a5bd862d6110944a1cab83c134aecd19b" title="Polygon description based on chain codes.">chainCode</a>; 
<a name="l00115"></a>00115   };
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   <span class="keyword">typedef</span> std::list&lt;CvContourChainCode *&gt; CvContoursChainCode; 
<a name="l00118"></a>00118 
<a name="l00120"></a>00120   <span class="keyword">typedef</span> std::vector&lt;CvPoint&gt; CvContourPolygon;
<a name="l00121"></a>00121 
<a name="l00128"></a>00128   <span class="keywordtype">void</span> cvRenderContourChainCode(<a class="code" href="structcvb_1_1CvContourChainCode.html" title="Chain code contour.">CvContourChainCode</a> <span class="keyword">const</span> *contour, IplImage <span class="keyword">const</span> *img, CvScalar <span class="keyword">const</span> &amp;color=CV_RGB(255, 255, 255));
<a name="l00129"></a>00129   
<a name="l00136"></a>00136   CvContourPolygon *cvConvertChainCodesToPolygon(<a class="code" href="structcvb_1_1CvContourChainCode.html" title="Chain code contour.">CvContourChainCode</a> <span class="keyword">const</span> *cc);
<a name="l00137"></a>00137 
<a name="l00144"></a>00144   <span class="keywordtype">void</span> cvRenderContourPolygon(CvContourPolygon <span class="keyword">const</span> *contour, IplImage *img, CvScalar <span class="keyword">const</span> &amp;color=CV_RGB(255, 255, 255));
<a name="l00145"></a>00145 
<a name="l00150"></a>00150   <span class="keywordtype">double</span> cvContourPolygonArea(CvContourPolygon <span class="keyword">const</span> *p);
<a name="l00151"></a>00151 
<a name="l00156"></a>00156   <span class="keywordtype">double</span> cvContourChainCodePerimeter(<a class="code" href="structcvb_1_1CvContourChainCode.html" title="Chain code contour.">CvContourChainCode</a> <span class="keyword">const</span> *c);
<a name="l00157"></a>00157 
<a name="l00162"></a>00162   <span class="keywordtype">double</span> cvContourPolygonPerimeter(CvContourPolygon <span class="keyword">const</span> *p);
<a name="l00163"></a>00163 
<a name="l00168"></a>00168   <span class="keywordtype">double</span> cvContourPolygonCircularity(<span class="keyword">const</span> CvContourPolygon *p);
<a name="l00169"></a>00169 
<a name="l00176"></a>00176   CvContourPolygon *cvSimplifyPolygon(CvContourPolygon <span class="keyword">const</span> *p, <span class="keywordtype">double</span> <span class="keyword">const</span> delta=1.);
<a name="l00177"></a>00177 
<a name="l00183"></a>00183   CvContourPolygon *cvPolygonContourConvexHull(CvContourPolygon <span class="keyword">const</span> *p);
<a name="l00184"></a>00184 
<a name="l00189"></a>00189   <span class="keywordtype">void</span> cvWriteContourPolygonCSV(<span class="keyword">const</span> CvContourPolygon&amp; p, <span class="keyword">const</span> std::string&amp; filename);
<a name="l00190"></a>00190 
<a name="l00197"></a>00197   <span class="keywordtype">void</span> cvWriteContourPolygonSVG(<span class="keyword">const</span> CvContourPolygon&amp; p, <span class="keyword">const</span> std::string&amp; filename, <span class="keyword">const</span> CvScalar&amp; stroke=cvScalar(0,0,0), <span class="keyword">const</span> CvScalar&amp; fill=cvScalar(255,255,255));
<a name="l00198"></a>00198 
<a name="l00200"></a>00200   <span class="comment">// Blobs</span>
<a name="l00201"></a>00201 
<a name="l00204"></a>00204   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> CvLabel;
<a name="l00205"></a>00205   <span class="comment">//typedef unsigned char CvLabel;</span>
<a name="l00206"></a>00206 
<a name="l00210"></a><a class="code" href="cvblob_8h.html#a7b6294f56d1d9089f71d9236162a6df0">00210</a> <span class="preprocessor">#define IPL_DEPTH_LABEL (sizeof(cvb::CvLabel)*8)</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>
<a name="l00215"></a><a class="code" href="cvblob_8h.html#a2738c9b3cad1cc8cda097cacc0ae45f8">00215</a> <span class="preprocessor">#define CV_BLOB_MAX_LABEL std::numeric_limits&lt;CvLabel&gt;::max()</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>  
<a name="l00218"></a>00218   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> CvID;
<a name="l00219"></a>00219 
<a name="l00221"></a><a class="code" href="structcvb_1_1CvBlob.html">00221</a>   <span class="keyword">struct </span><a class="code" href="structcvb_1_1CvBlob.html" title="Struct that contain information about one blob.">CvBlob</a>
<a name="l00222"></a>00222   {
<a name="l00223"></a><a class="code" href="structcvb_1_1CvBlob.html#a011eee1bdd419306dfad2919fe71ba80">00223</a>     CvLabel <a class="code" href="structcvb_1_1CvBlob.html#a011eee1bdd419306dfad2919fe71ba80" title="Label assigned to the blob.">label</a>; 
<a name="l00224"></a>00224     
<a name="l00225"></a>00225     <span class="keyword">union</span>
<a name="l00226"></a>00226     {
<a name="l00227"></a><a class="code" href="structcvb_1_1CvBlob.html#a44fcb2c65be742c381880198d2b202d1">00227</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvBlob.html#a44fcb2c65be742c381880198d2b202d1" title="Area (moment 00).">area</a>; 
<a name="l00228"></a><a class="code" href="structcvb_1_1CvBlob.html#ac73a5360b536d206d93995b50e9c8eb9">00228</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvBlob.html#ac73a5360b536d206d93995b50e9c8eb9" title="Moment 00 (area).">m00</a>; 
<a name="l00229"></a>00229     };
<a name="l00230"></a>00230     
<a name="l00231"></a><a class="code" href="structcvb_1_1CvBlob.html#a70ed8c3e8b158842983f631ee00d55b5">00231</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvBlob.html#a70ed8c3e8b158842983f631ee00d55b5" title="X min.">minx</a>; 
<a name="l00232"></a><a class="code" href="structcvb_1_1CvBlob.html#a1fae7781545e101568385e7a4921538e">00232</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvBlob.html#a1fae7781545e101568385e7a4921538e" title="X max.">maxx</a>; 
<a name="l00233"></a><a class="code" href="structcvb_1_1CvBlob.html#aac16e7325a884f4f0e3ea97ebd11248b">00233</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvBlob.html#aac16e7325a884f4f0e3ea97ebd11248b" title="Y min.">miny</a>; 
<a name="l00234"></a><a class="code" href="structcvb_1_1CvBlob.html#a6cbd1c17e334d092a88e1e35114c92c9">00234</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvBlob.html#a6cbd1c17e334d092a88e1e35114c92c9" title="y max.">maxy</a>; 
<a name="l00235"></a>00235     
<a name="l00236"></a><a class="code" href="structcvb_1_1CvBlob.html#a19e07c8a0a0e318d0b6f504231687f99">00236</a>     CvPoint2D64f <a class="code" href="structcvb_1_1CvBlob.html#a19e07c8a0a0e318d0b6f504231687f99" title="Centroid.">centroid</a>; 
<a name="l00237"></a>00237     
<a name="l00238"></a><a class="code" href="structcvb_1_1CvBlob.html#a2f95d6e2eeb0a054ea3873ff069b42a0">00238</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a2f95d6e2eeb0a054ea3873ff069b42a0" title="Moment 10.">m10</a>; 
<a name="l00239"></a><a class="code" href="structcvb_1_1CvBlob.html#a486f757303f05aff6fc9b4d8648176c5">00239</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a486f757303f05aff6fc9b4d8648176c5" title="Moment 01.">m01</a>; 
<a name="l00240"></a><a class="code" href="structcvb_1_1CvBlob.html#aea92467a48b540945dfd44fe037f65e7">00240</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#aea92467a48b540945dfd44fe037f65e7" title="Moment 11.">m11</a>; 
<a name="l00241"></a><a class="code" href="structcvb_1_1CvBlob.html#af7a84e3fe0f66ba6255eb44d95dce208">00241</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#af7a84e3fe0f66ba6255eb44d95dce208" title="Moment 20.">m20</a>; 
<a name="l00242"></a><a class="code" href="structcvb_1_1CvBlob.html#a889b587d96b3c20c676444cc20cfefbb">00242</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a889b587d96b3c20c676444cc20cfefbb" title="Moment 02.">m02</a>; 
<a name="l00243"></a>00243     
<a name="l00244"></a><a class="code" href="structcvb_1_1CvBlob.html#a086ef6361a63a5fd0d40c498fa6975f4">00244</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a086ef6361a63a5fd0d40c498fa6975f4" title="Central moment 11.">u11</a>; 
<a name="l00245"></a><a class="code" href="structcvb_1_1CvBlob.html#ae82c8e8b1b7cb4156c904485b05e4117">00245</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#ae82c8e8b1b7cb4156c904485b05e4117" title="Central moment 20.">u20</a>; 
<a name="l00246"></a><a class="code" href="structcvb_1_1CvBlob.html#a1843a266487572b336b1a4700c8a65b5">00246</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a1843a266487572b336b1a4700c8a65b5" title="Central moment 02.">u02</a>; 
<a name="l00247"></a>00247 
<a name="l00248"></a><a class="code" href="structcvb_1_1CvBlob.html#a25f32c2e107103d8ef306efdfc71c5df">00248</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a25f32c2e107103d8ef306efdfc71c5df" title="Normalized central moment 11.">n11</a>; 
<a name="l00249"></a><a class="code" href="structcvb_1_1CvBlob.html#a9897484f61aa933ec4f55fdf3d2947ed">00249</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a9897484f61aa933ec4f55fdf3d2947ed" title="Normalized central moment 20.">n20</a>; 
<a name="l00250"></a><a class="code" href="structcvb_1_1CvBlob.html#a5b4e4954b3b1d3f3e91203f85d5e8093">00250</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a5b4e4954b3b1d3f3e91203f85d5e8093" title="Normalized central moment 02.">n02</a>; 
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="structcvb_1_1CvBlob.html#a7d3cec154ce710730f41121e9d6c1b08">00252</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a7d3cec154ce710730f41121e9d6c1b08" title="Hu moment 1.">p1</a>; 
<a name="l00253"></a><a class="code" href="structcvb_1_1CvBlob.html#a07829ba96c277b4d998248a53284625f">00253</a>     <span class="keywordtype">double</span> <a class="code" href="structcvb_1_1CvBlob.html#a07829ba96c277b4d998248a53284625f" title="Hu moment 2.">p2</a>; 
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="structcvb_1_1CvBlob.html#adbf5a6017b4f313e80df1944b96a4896">00255</a>     <a class="code" href="structcvb_1_1CvContourChainCode.html" title="Chain code contour.">CvContourChainCode</a> <a class="code" href="structcvb_1_1CvBlob.html#adbf5a6017b4f313e80df1944b96a4896" title="Contour.">contour</a>;           
<a name="l00256"></a><a class="code" href="structcvb_1_1CvBlob.html#ab77ad4365d67059141e6e502a751a40b">00256</a>     CvContoursChainCode <a class="code" href="structcvb_1_1CvBlob.html#ab77ad4365d67059141e6e502a751a40b" title="Internal contours.">internalContours</a>; 
<a name="l00257"></a>00257   };
<a name="l00258"></a>00258   
<a name="l00264"></a>00264   <span class="keyword">typedef</span> std::map&lt;CvLabel,CvBlob *&gt; CvBlobs;
<a name="l00265"></a>00265 
<a name="l00270"></a>00270   <span class="keyword">typedef</span> std::pair&lt;CvLabel,CvBlob *&gt; CvLabelBlob;
<a name="l00271"></a>00271   
<a name="l00279"></a>00279   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cvLabel (IplImage <span class="keyword">const</span> *img, IplImage *imgOut, CvBlobs &amp;blobs);
<a name="l00280"></a>00280 
<a name="l00281"></a>00281   <span class="comment">//IplImage *cvFilterLabel(IplImage *imgIn, CvLabel label);</span>
<a name="l00282"></a>00282 
<a name="l00289"></a>00289   <span class="keywordtype">void</span> cvFilterLabels(IplImage *imgIn, IplImage *imgOut, <span class="keyword">const</span> CvBlobs &amp;blobs);
<a name="l00290"></a>00290 
<a name="l00298"></a>00298   CvLabel cvGetLabel(IplImage <span class="keyword">const</span> *img, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y);
<a name="l00299"></a>00299 
<a name="l00304"></a>00304   <span class="keyword">inline</span> <span class="keywordtype">void</span> cvReleaseBlob(<a class="code" href="structcvb_1_1CvBlob.html" title="Struct that contain information about one blob.">CvBlob</a> *blob)
<a name="l00305"></a>00305   {
<a name="l00306"></a>00306     <span class="keywordflow">if</span> (blob)
<a name="l00307"></a>00307     {
<a name="l00308"></a>00308       <span class="keywordflow">for</span> (CvContoursChainCode::iterator jt=blob-&gt;<a class="code" href="structcvb_1_1CvBlob.html#ab77ad4365d67059141e6e502a751a40b" title="Internal contours.">internalContours</a>.begin(); jt!=blob-&gt;<a class="code" href="structcvb_1_1CvBlob.html#ab77ad4365d67059141e6e502a751a40b" title="Internal contours.">internalContours</a>.end(); ++jt)
<a name="l00309"></a>00309       {
<a name="l00310"></a>00310         <a class="code" href="structcvb_1_1CvContourChainCode.html" title="Chain code contour.">CvContourChainCode</a> *contour = *jt;
<a name="l00311"></a>00311         <span class="keywordflow">if</span> (contour)
<a name="l00312"></a>00312           <span class="keyword">delete</span> contour;
<a name="l00313"></a>00313       }
<a name="l00314"></a>00314       blob-&gt;<a class="code" href="structcvb_1_1CvBlob.html#ab77ad4365d67059141e6e502a751a40b" title="Internal contours.">internalContours</a>.clear();
<a name="l00315"></a>00315 
<a name="l00316"></a>00316       <span class="keyword">delete</span> blob;
<a name="l00317"></a>00317     }
<a name="l00318"></a>00318   }
<a name="l00319"></a>00319 
<a name="l00324"></a>00324   <span class="keyword">inline</span> <span class="keywordtype">void</span> cvReleaseBlobs(CvBlobs &amp;blobs)
<a name="l00325"></a>00325   {
<a name="l00326"></a>00326     <span class="keywordflow">for</span> (CvBlobs::iterator it=blobs.begin(); it!=blobs.end(); ++it)
<a name="l00327"></a>00327     {
<a name="l00328"></a>00328       cvReleaseBlob((*it).second);
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330     blobs.clear();
<a name="l00331"></a>00331   }
<a name="l00332"></a>00332 
<a name="l00338"></a>00338   CvLabel cvLargestBlob(<span class="keyword">const</span> CvBlobs &amp;blobs);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340   <span class="keyword">inline</span> CvLabel cvGreaterBlob(<span class="keyword">const</span> CvBlobs &amp;blobs)
<a name="l00341"></a>00341   {
<a name="l00342"></a>00342     <span class="keywordflow">return</span> cvLargestBlob(blobs);
<a name="l00343"></a>00343   }
<a name="l00344"></a>00344 
<a name="l00351"></a>00351   <span class="keywordtype">void</span> cvFilterByArea(CvBlobs &amp;blobs, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minArea, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxArea);
<a name="l00352"></a>00352 
<a name="l00358"></a>00358   <span class="keywordtype">void</span> cvFilterByLabel(CvBlobs &amp;blobs, CvLabel label);
<a name="l00359"></a>00359 
<a name="l00366"></a>00366   <span class="keyword">inline</span> CvPoint2D64f cvCentroid(CvBlob *blob)
<a name="l00367"></a>00367   {
<a name="l00368"></a>00368     <span class="keywordflow">return</span> blob-&gt;centroid=cvPoint2D64f(blob-&gt;m10/blob-&gt;area, blob-&gt;m01/blob-&gt;area);
<a name="l00369"></a>00369   }
<a name="l00370"></a>00370 
<a name="l00376"></a>00376   <span class="keywordtype">double</span> cvAngle(CvBlob *blob);
<a name="l00377"></a>00377 
<a name="l00387"></a>00387   <span class="keywordtype">void</span> cvSaveImageBlob(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, IplImage *img, CvBlob <span class="keyword">const</span> *blob);
<a name="l00388"></a>00388   
<a name="l00389"></a><a class="code" href="cvblob_8h.html#a72ea76fd059c1bd5191038c3c4a806d2">00389</a> <span class="preprocessor">#define CV_BLOB_RENDER_COLOR            0x0001 ///&lt; Render each blog with a different color. \see cvRenderBlobs</span>
<a name="l00390"></a><a class="code" href="cvblob_8h.html#a9c8c94ebb8d703696f22e30895618c91">00390</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_BLOB_RENDER_CENTROID         0x0002 ///&lt; Render centroid. \see cvRenderBlobs</span>
<a name="l00391"></a><a class="code" href="cvblob_8h.html#a8910d4138f7650718f7fe219cda784d2">00391</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_BLOB_RENDER_BOUNDING_BOX     0x0004 ///&lt; Render bounding box. \see cvRenderBlobs</span>
<a name="l00392"></a><a class="code" href="cvblob_8h.html#aa84ebce42d1053bfc4552d06c9ec4bee">00392</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_BLOB_RENDER_ANGLE            0x0008 ///&lt; Render angle. \see cvRenderBlobs</span>
<a name="l00393"></a><a class="code" href="cvblob_8h.html#aec0b96c61251408d29f5f0d20c041038">00393</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_BLOB_RENDER_TO_LOG           0x0010 ///&lt; Print blob data to log out. \see cvRenderBlobs</span>
<a name="l00394"></a><a class="code" href="cvblob_8h.html#a2c5ecf02adc2da19fce6432aadcd6880">00394</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_BLOB_RENDER_TO_STD           0x0020 ///&lt; Print blob data to std out. \see cvRenderBlobs</span>
<a name="l00395"></a>00395 <span class="preprocessor"></span>
<a name="l00411"></a>00411   <span class="keywordtype">void</span> cvRenderBlob(<span class="keyword">const</span> IplImage *imgLabel, CvBlob *blob, IplImage *imgSource, IplImage *imgDest, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> mode=0x000f, CvScalar <span class="keyword">const</span> &amp;color=CV_RGB(255, 255, 255), <span class="keywordtype">double</span> alpha=1.);
<a name="l00412"></a>00412 
<a name="l00427"></a>00427   <span class="keywordtype">void</span> cvRenderBlobs(<span class="keyword">const</span> IplImage *imgLabel, CvBlobs &amp;blobs, IplImage *imgSource, IplImage *imgDest, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> mode=0x000f, <span class="keywordtype">double</span> alpha=1.);
<a name="l00428"></a>00428 
<a name="l00434"></a>00434   <span class="keyword">inline</span> <span class="keywordtype">void</span> cvSetImageROItoBlob(IplImage *img, CvBlob <span class="keyword">const</span> *blob)
<a name="l00435"></a>00435   {
<a name="l00436"></a>00436     cvSetImageROI(img, cvRect(blob-&gt;minx, blob-&gt;miny, blob-&gt;maxx-blob-&gt;minx, blob-&gt;maxy-blob-&gt;miny));
<a name="l00437"></a>00437   };
<a name="l00438"></a>00438 
<a name="l00440"></a>00440   <span class="comment">// Color</span>
<a name="l00441"></a>00441 
<a name="l00448"></a>00448   CvScalar cvBlobMeanColor(CvBlob <span class="keyword">const</span> *blob, IplImage <span class="keyword">const</span> *imgLabel, IplImage <span class="keyword">const</span> *img);
<a name="l00449"></a>00449   
<a name="l00451"></a>00451   <span class="comment">// Aux</span>
<a name="l00452"></a>00452   
<a name="l00459"></a>00459   <span class="keywordtype">double</span> cvDotProductPoints(CvPoint <span class="keyword">const</span> &amp;a, CvPoint <span class="keyword">const</span> &amp;b, CvPoint <span class="keyword">const</span> &amp;c);
<a name="l00460"></a>00460   
<a name="l00467"></a>00467   <span class="keywordtype">double</span> cvCrossProductPoints(CvPoint <span class="keyword">const</span> &amp;a, CvPoint <span class="keyword">const</span> &amp;b, CvPoint <span class="keyword">const</span> &amp;c);
<a name="l00468"></a>00468 
<a name="l00474"></a>00474   <span class="keywordtype">double</span> cvDistancePointPoint(CvPoint <span class="keyword">const</span> &amp;a, CvPoint <span class="keyword">const</span> &amp;b);
<a name="l00475"></a>00475 
<a name="l00483"></a>00483   <span class="keywordtype">double</span> cvDistanceLinePoint(CvPoint <span class="keyword">const</span> &amp;a, CvPoint <span class="keyword">const</span> &amp;b, CvPoint <span class="keyword">const</span> &amp;c, <span class="keywordtype">bool</span> isSegment=<span class="keyword">true</span>);
<a name="l00484"></a>00484   
<a name="l00486"></a>00486   <span class="comment">// Tracking</span>
<a name="l00487"></a>00487 
<a name="l00491"></a><a class="code" href="structcvb_1_1CvTrack.html">00491</a>   <span class="keyword">struct </span><a class="code" href="structcvb_1_1CvTrack.html" title="Struct that contain information about one track.">CvTrack</a>
<a name="l00492"></a>00492   {
<a name="l00493"></a><a class="code" href="structcvb_1_1CvTrack.html#adefb8658228beb4986305f321561a9a1">00493</a>     CvID <a class="code" href="structcvb_1_1CvTrack.html#adefb8658228beb4986305f321561a9a1" title="Track identification number.">id</a>; 
<a name="l00494"></a>00494 
<a name="l00495"></a><a class="code" href="structcvb_1_1CvTrack.html#a55bc98d1a5579a109201d8b4516598b0">00495</a>     CvLabel <a class="code" href="structcvb_1_1CvTrack.html#a55bc98d1a5579a109201d8b4516598b0" title="Label assigned to the blob related to this track.">label</a>; 
<a name="l00496"></a>00496 
<a name="l00497"></a><a class="code" href="structcvb_1_1CvTrack.html#ae8a7f55f3146f80604c1320083d3cb05">00497</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvTrack.html#ae8a7f55f3146f80604c1320083d3cb05" title="X min.">minx</a>; 
<a name="l00498"></a><a class="code" href="structcvb_1_1CvTrack.html#a97ac29e2d64c7c659721c5a9f0c56b5c">00498</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvTrack.html#a97ac29e2d64c7c659721c5a9f0c56b5c" title="X max.">maxx</a>; 
<a name="l00499"></a><a class="code" href="structcvb_1_1CvTrack.html#acb0827c96f57ef27914fbbe8932d7169">00499</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvTrack.html#acb0827c96f57ef27914fbbe8932d7169" title="Y min.">miny</a>; 
<a name="l00500"></a><a class="code" href="structcvb_1_1CvTrack.html#a46a2dc245cc4a0f75e25d04b46fe32a8">00500</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvTrack.html#a46a2dc245cc4a0f75e25d04b46fe32a8" title="y max.">maxy</a>; 
<a name="l00501"></a>00501     
<a name="l00502"></a><a class="code" href="structcvb_1_1CvTrack.html#ae58e21902c6cd91ed50d244c499223a4">00502</a>     CvPoint2D64f <a class="code" href="structcvb_1_1CvTrack.html#ae58e21902c6cd91ed50d244c499223a4" title="Centroid.">centroid</a>; 
<a name="l00503"></a>00503 
<a name="l00504"></a><a class="code" href="structcvb_1_1CvTrack.html#a62b746980694868060709156f0af306a">00504</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvTrack.html#a62b746980694868060709156f0af306a" title="Indicates how much frames the object has been in scene.">lifetime</a>; 
<a name="l00505"></a><a class="code" href="structcvb_1_1CvTrack.html#a559cb8cb21100d19c4dc8537b776cb01">00505</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvTrack.html#a559cb8cb21100d19c4dc8537b776cb01" title="Indicates number of frames that has been active from last inactive period.">active</a>; 
<a name="l00506"></a><a class="code" href="structcvb_1_1CvTrack.html#a3d28aba92ffd8dc349fd4186f5c3d9a7">00506</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcvb_1_1CvTrack.html#a3d28aba92ffd8dc349fd4186f5c3d9a7" title="Indicates number of frames that has been missing.">inactive</a>; 
<a name="l00507"></a>00507   };
<a name="l00508"></a>00508 
<a name="l00513"></a>00513   <span class="keyword">typedef</span> std::map&lt;CvID, CvTrack *&gt; CvTracks;
<a name="l00514"></a>00514 
<a name="l00519"></a>00519   <span class="keyword">typedef</span> std::pair&lt;CvID, CvTrack *&gt; CvIDTrack;
<a name="l00520"></a>00520 
<a name="l00525"></a>00525   <span class="keyword">inline</span> <span class="keywordtype">void</span> cvReleaseTracks(CvTracks &amp;tracks)
<a name="l00526"></a>00526   {
<a name="l00527"></a>00527     <span class="keywordflow">for</span> (CvTracks::iterator it=tracks.begin(); it!=tracks.end(); it++)
<a name="l00528"></a>00528     {
<a name="l00529"></a>00529       <a class="code" href="structcvb_1_1CvTrack.html" title="Struct that contain information about one track.">CvTrack</a> *track = (*it).second;
<a name="l00530"></a>00530       <span class="keywordflow">if</span> (track) <span class="keyword">delete</span> track;
<a name="l00531"></a>00531     }
<a name="l00532"></a>00532 
<a name="l00533"></a>00533     tracks.clear();
<a name="l00534"></a>00534   }
<a name="l00535"></a>00535 
<a name="l00550"></a>00550   <span class="keywordtype">void</span> cvUpdateTracks(CvBlobs <span class="keyword">const</span> &amp;b, CvTracks &amp;t, <span class="keyword">const</span> <span class="keywordtype">double</span> thDistance, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> thInactive, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> thActive=0);
<a name="l00551"></a>00551 
<a name="l00552"></a><a class="code" href="cvblob_8h.html#a83f567bb938cd43fc300b03096677b8e">00552</a> <span class="preprocessor">#define CV_TRACK_RENDER_ID            0x0001 ///&lt; Print the ID of each track in the image. \see cvRenderTracks</span>
<a name="l00553"></a><a class="code" href="cvblob_8h.html#aebdd3c18abef97e2bb1731480c620903">00553</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_TRACK_RENDER_BOUNDING_BOX  0x0002 ///&lt; Draw bounding box of each track in the image. \see cvRenderTracks</span>
<a name="l00554"></a><a class="code" href="cvblob_8h.html#a61276c7a2cc5c680f6273678fc10ce8d">00554</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_TRACK_RENDER_TO_LOG        0x0010 ///&lt; Print track info to log out. \see cvRenderTracks</span>
<a name="l00555"></a><a class="code" href="cvblob_8h.html#a269993759feafe78d0a073375d27e55e">00555</a> <span class="preprocessor"></span><span class="preprocessor">#define CV_TRACK_RENDER_TO_STD        0x0020 ///&lt; Print track info to log out. \see cvRenderTracks</span>
<a name="l00556"></a>00556 <span class="preprocessor"></span>
<a name="l00568"></a>00568   <span class="keywordtype">void</span> cvRenderTracks(CvTracks <span class="keyword">const</span> tracks, IplImage *imgSource, IplImage *imgDest, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> mode=0x000f, CvFont *font=NULL);
<a name="l00569"></a>00569   }
<a name="l00570"></a>00570 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00571"></a>00571 <span class="preprocessor"></span>}
<a name="l00572"></a>00572 <span class="preprocessor">#endif</span>
<a name="l00573"></a>00573 <span class="preprocessor"></span>
<a name="l00577"></a>00577 std::ostream&amp; <a class="code" href="cvblob_8h.html#ac75f7848e8852265da838623733ae6fe" title="Overload operator &quot;&lt;&lt;&quot; for printing blob structure.">operator&lt;&lt; </a>(std::ostream&amp; output, <span class="keyword">const</span> <a class="code" href="structcvb_1_1CvBlob.html" title="Struct that contain information about one blob.">cvb::CvBlob</a>&amp; b);
<a name="l00578"></a>00578 
<a name="l00582"></a>00582 std::ostream&amp; <a class="code" href="cvblob_8h.html#ac75f7848e8852265da838623733ae6fe" title="Overload operator &quot;&lt;&lt;&quot; for printing blob structure.">operator&lt;&lt; </a>(std::ostream&amp; output, <span class="keyword">const</span> cvb::CvContourPolygon&amp; p);
<a name="l00583"></a>00583 
<a name="l00587"></a>00587 std::ostream&amp; <a class="code" href="cvblob_8h.html#ac75f7848e8852265da838623733ae6fe" title="Overload operator &quot;&lt;&lt;&quot; for printing blob structure.">operator&lt;&lt; </a>(std::ostream&amp; output, <span class="keyword">const</span> <a class="code" href="structcvb_1_1CvTrack.html" title="Struct that contain information about one track.">cvb::CvTrack</a>&amp; t);
<a name="l00588"></a>00588 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri May 25 2012 12:12:00 for cvBlob by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
